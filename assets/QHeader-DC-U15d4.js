import{c as q,a as v,h as g,b as E,r as z,u as S,o as w,g as L,k as x,n as k,a4 as O,f as V,i as N,e as p,l as _,w as y,a9 as j}from"./index-BGe7OyI9.js";const P=q({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:h}){const o=v(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>g("div",{class:o.value,role:"toolbar"},E(h.default))}});function C(){const t=z(!S.value);return t.value===!1&&w(()=>{t.value=!0}),{isHydrated:t}}const R=typeof ResizeObserver<"u",Q=R===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},D=q({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:h}){let o=null,r,n={width:-1,height:-1};function s(a){a===!0||t.debounce===0||t.debounce==="0"?i():o===null&&(o=setTimeout(i,t.debounce))}function i(){if(o!==null&&(clearTimeout(o),o=null),r){const{offsetWidth:a,offsetHeight:u}=r;(a!==n.width||u!==n.height)&&(n={width:a,height:u},h("resize",n))}}const{proxy:f}=L();if(f.trigger=s,R===!0){let a;const u=m=>{r=f.$el.parentNode,r?(a=new ResizeObserver(s),a.observe(r),i()):m!==!0&&O(()=>{u(!0)})};return w(()=>{u()}),x(()=>{o!==null&&clearTimeout(o),a!==void 0&&(a.disconnect!==void 0?a.disconnect():r&&a.unobserve(r))}),k}else{let a=function(){o!==null&&(clearTimeout(o),o=null),d!==void 0&&(d.removeEventListener!==void 0&&d.removeEventListener("resize",s,V.passive),d=void 0)},u=function(){a(),r?.contentDocument&&(d=r.contentDocument.defaultView,d.addEventListener("resize",s,V.passive),i())};const{isHydrated:m}=C();let d;return w(()=>{O(()=>{r=f.$el,r&&u()})}),x(a),()=>{if(m.value===!0)return g("object",{class:"q--avoid-card-border",style:Q.style,tabindex:-1,type:"text/html",data:Q.url,"aria-hidden":"true",onLoad:u})}}}}),I=q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:h,emit:o}){const{proxy:{$q:r}}=L(),n=N(_,p);if(n===p)return console.error("QHeader needs to be child of QLayout"),p;const s=z(parseInt(t.heightHint,10)),i=z(!0),f=v(()=>t.reveal===!0||n.view.value.indexOf("H")!==-1||r.platform.is.ios&&n.isContainer.value===!0),a=v(()=>{if(t.modelValue!==!0)return 0;if(f.value===!0)return i.value===!0?s.value:0;const e=s.value-n.scroll.value.position;return e>0?e:0}),u=v(()=>t.modelValue!==!0||f.value===!0&&i.value!==!0),m=v(()=>t.modelValue===!0&&u.value===!0&&t.reveal===!0),d=v(()=>"q-header q-layout__section--marginal "+(f.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(u.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),T=v(()=>{const e=n.rows.value.top,c={};return e[0]==="l"&&n.left.space===!0&&(c[r.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),e[2]==="r"&&n.right.space===!0&&(c[r.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),c});function l(e,c){n.update("header",e,c)}function b(e,c){e.value!==c&&(e.value=c)}function B({height:e}){b(s,e),l("size",e)}function $(e){m.value===!0&&b(i,!0),o("focusin",e)}y(()=>t.modelValue,e=>{l("space",e),b(i,!0),n.animate()}),y(a,e=>{l("offset",e)}),y(()=>t.reveal,e=>{e===!1&&b(i,t.modelValue)}),y(i,e=>{n.animate(),o("reveal",e)}),y(n.scroll,e=>{t.reveal===!0&&b(i,e.direction==="up"||e.position<=t.revealOffset||e.position-e.inflectionPoint<100)});const H={};return n.instances.header=H,t.modelValue===!0&&l("size",s.value),l("space",t.modelValue),l("offset",a.value),x(()=>{n.instances.header===H&&(n.instances.header=void 0,l("size",0),l("offset",0),l("space",!1))}),()=>{const e=j(h.default,[]);return t.elevated===!0&&e.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(g(D,{debounce:0,onResize:B})),g("header",{class:d.value,style:T.value,onFocusin:$},e)}}});export{D as Q,I as a,P as b};
